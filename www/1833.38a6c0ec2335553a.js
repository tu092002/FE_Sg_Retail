"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1833],{1833:(v,d,a)=>{a.r(d),a.d(d,{BusinessDetailsPageModule:()=>B});var m=a(6895),n=a(4006),o=a(8779),l=a(9299),c=a(4631),t=a(4650),g=a(2468),p=a(4377);function f(s,u){1&s&&(t.TgZ(0,"div",15)(1,"div",16),t._UZ(2,"div",17),t.qZA()())}const Z=[{path:"",component:(()=>{class s{constructor(e,i,r,h){this._data=e,this.route=i,this.formBuilder=r,this.authService=h,this.const_data=[],this.currentUser={},this.valueForm="",this.dynamictype="number",this.API="/business",this.Loading=!0,this.message="This modal example uses triggers to automatically open a modal when the button is clicked."}ngOnInit(){this.currentUser=this.authService.getParseTokenUser(),this.loaddata()}createForm(){this.formGroup=this.formBuilder.group({cardcode:[null,n.kI.required],cardname:[null,n.kI.required],group:[null,n.kI.required],address:[null,n.kI.required],phone:[null,n.kI.required],status:[null,n.kI.required]})}loaddata(){this.Loading=!1,this.createForm();const e=+this.route.snapshot.params.id;null!=e||null!=e?this._data.get2(c.r.BASE_SERVER+this.currentUser.ip+this.API+"/"+this.currentUser.tenant_id+`/${e}`).subscribe(i=>{var r;this.items=i||[],this.setValue(null===(r=this.items)||void 0===r?void 0:r.data),this.Loading=!0},i=>{this.Loading=!0}):this.Loading=!0}setValue(e){setTimeout(()=>{this.Loading=!1,this.formGroup.controls.cardcode.setValue(e.group+e.cardcode),this.formGroup.controls.cardname.setValue(e.cardname),this.formGroup.controls.group.setValue(e.group),this.formGroup.controls.address.setValue(e.address),this.formGroup.controls.phone.setValue(e.phone),this.formGroup.controls.status.setValue(1==e.status?"true":"false"),this.formGroup.controls.cardcode.disable()},1e3),setTimeout(()=>{this.Loading=!0},1e3)}onSubmit(e){this.valueForm=e}UpdateItem(e){const i=+this.route.snapshot.params.id;e.status="true"==e.status,this._data.put(c.r.BASE_SERVER+this.currentUser.ip+this.API+"/"+this.currentUser.tenant_id+`/${i}`,e).subscribe(h=>{this._data.showUpdateSuccess(e.cardcode),this.loaddata()})}confirm(e){this.modal.dismiss(this.name,"confirm"),this.onSubmit(e)}onWillDismiss(e){"confirm"===e.detail.role&&(this.message=`Hello, ${e.detail.data}!`)}cancel(){this.modal.dismiss(null,"cancel")}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(g.D),t.Y36(l.gz),t.Y36(n.qu),t.Y36(p.e))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-business-details"]],viewQuery:function(e,i){if(1&e&&t.Gf(o.ki,5),2&e){let r;t.iGM(r=t.CRH())&&(i.modal=r.first)}},decls:37,vars:3,consts:[["slot","start"],["slot","primary"],["color","danger",3,"click"],["name","pencil"],[1,"ion-padding"],["id","vendor-form",1,"form",3,"formGroup","ngSubmit"],["position","stacked"],["formControlName","cardcode"],["formControlName","cardname"],["formControlName","group"],["value","V"],["value","C"],["formControlName","address"],["formControlName","phone"],["bgcolor","#000000",4,"ngIf"],["bgcolor","#000000"],["id","loader-wrapper"],["id","loader"]],template:function(e,i){1&e&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),t._UZ(3,"ion-back-button"),t.qZA(),t.TgZ(4,"ion-title"),t._uU(5),t.qZA(),t.TgZ(6,"ion-buttons",1)(7,"ion-button")(8,"ion-button",2),t.NdJ("click",function(){return i.UpdateItem(i.formGroup.value)}),t._UZ(9,"ion-icon",3),t.qZA()()()()(),t.TgZ(10,"ion-content",4)(11,"form",5),t.NdJ("ngSubmit",function(){return i.onSubmit(i.formGroup.value)}),t.TgZ(12,"ion-item")(13,"ion-label",6),t._uU(14,"M\xe3 kh\xe1ch h\xe0ng"),t.qZA(),t._UZ(15,"ion-input",7),t.qZA(),t.TgZ(16,"ion-item")(17,"ion-label",6),t._uU(18,"T\xean kh\xe1ch h\xe0ng"),t.qZA(),t._UZ(19,"ion-input",8),t.qZA(),t.TgZ(20,"ion-item")(21,"ion-label",6),t._uU(22,"Nh\xf3m kh\xe1ch h\xe0ng"),t.qZA(),t.TgZ(23,"ion-select",9)(24,"ion-select-option",10),t._uU(25,"Nh\xe0 cung c\u1ea5p"),t.qZA(),t.TgZ(26,"ion-select-option",11),t._uU(27,"Kh\xe1ch h\xe0ng"),t.qZA()()(),t.TgZ(28,"ion-item")(29,"ion-label",6),t._uU(30,"\u0110\u1ecba ch\u1ec9"),t.qZA(),t._UZ(31,"ion-input",12),t.qZA(),t.TgZ(32,"ion-item")(33,"ion-label",6),t._uU(34,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),t.qZA(),t._UZ(35,"ion-input",13),t.qZA()()(),t.YNc(36,f,3,0,"div",14)),2&e&&(t.xp6(5),t.Oqu(null==i.items||null==i.items.data?null:i.items.data.cardcode),t.xp6(6),t.Q6J("formGroup",i.formGroup),t.xp6(25),t.Q6J("ngIf",!i.Loading))},dependencies:[m.O5,n._Y,n.JJ,n.JL,o.oU,o.YG,o.Sm,o.W2,o.Gu,o.gu,o.pK,o.Ie,o.Q$,o.t9,o.n0,o.wd,o.sr,o.QI,o.j9,o.cs,n.sg,n.u]}),s})()}];let U=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[l.Bz.forChild(Z),l.Bz]}),s})();var A=a(5064);let B=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[m.ez,n.u5,o.Pc,A.q,n.UX,U]}),s})()}}]);