"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5337],{5337:(R,p,s)=>{s.r(p),s.d(p,{ChartsPageModule:()=>F});var v=s(6895),_=s(4006),o=s(8779),c=s(9299),C=s(655),f=s(8053),d=s(4631),t=s(4650),m=s(2468),A=s(4377);const T=["myChart"];function E(n,r){if(1&n&&(t.TgZ(0,"ion-select-option",16),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e.value),t.xp6(1),t.hij(" ",e.viewValue," ")}}function Z(n,r){if(1&n&&(t.TgZ(0,"ion-select-option",17),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e.name2),t.xp6(1),t.AsE(" ",e.name1," ",e.name2," ")}}let y=(()=>{class n{constructor(e,a,i,u,h){this.navCtrl=e,this._data=a,this.activatedRoute=i,this.modalCtrl=u,this.authService=h,this.headerMenu="",this.API="/reports/itemcode",this.API_YEAR="/reports/years",this.Loading=!0,this.const_data={},this.label=[],this.data=[],this.month=[{value:1,viewValue:"Th\xe1ng 1"},{value:2,viewValue:"Th\xe1ng 2"},{value:3,viewValue:"Th\xe1ng 3"},{value:4,viewValue:"Th\xe1ng 4"},{value:5,viewValue:"Th\xe1ng 5"},{value:6,viewValue:"Th\xe1ng 6"},{value:7,viewValue:"Th\xe1ng 7"},{value:8,viewValue:"Th\xe1ng 8"},{value:9,viewValue:"Th\xe1ng 9"},{value:10,viewValue:"Th\xe1ng 10"},{value:11,viewValue:"Th\xe1ng 11"},{value:12,viewValue:"Th\xe1ng 12"}],this.year={},this.currentUser={},this.defaultValueMonth=(new Date).getUTCMonth()+1}ngOnInit(){this.headerMenu=this.activatedRoute.snapshot.data.some_date,this.currentUser=this.authService.getParseTokenUser(),this.defaultValueYear=(new Date).getFullYear(),this.loadyear(),this.loaddata(this.defaultValueMonth.toString(),this.defaultValueYear.toString())}loaddata(e,a){this.Loading=!1,this._data.post(d.r.BASE_SERVER+this.currentUser.ip+this.API+"/"+this.currentUser.tenant_id,{month:e.toString(),year:a.toString()}).subscribe(i=>{var u;this.const_data=i||[],this.parseDataArrayString((null===(u=this.const_data)||void 0===u?void 0:u.data)||[]),this.Loading=!0},i=>{this.Loading=!0})}loaddataChangeSelectOption(e,a){this.const_data={},this.Loading=!1,this._data.post(d.r.BASE_SERVER+this.currentUser.ip+this.API+"/"+this.currentUser.tenant_id,{month:e.toString(),year:a.toString()}).subscribe(i=>{var u;this.const_data=i||[],this.parseDataArrayStringSelectOption((null===(u=this.const_data)||void 0===u?void 0:u.data)||[]),this.Loading=!0},i=>{this.Loading=!0})}loadyear(){const e={tenant_id:this.currentUser.tenant_id};this.Loading=!1,this._data.get2(d.r.BASE_SERVER+this.API_YEAR,e).subscribe(a=>{this.setValueYear(a||[]),this.Loading=!0},a=>{this.Loading=!0})}setValueYear(e){this.year=e}parseDataArrayString(e){e.forEach(a=>{this.label.push(a.itemcode),this.data.push(a.total)}),this.doughnutChartMethod()}parseDataArrayStringSelectOption(e){this.label=[],this.data=[],e.forEach(a=>{this.label.push(a.itemcode),this.data.push(a.total)}),this.doughnutChartMethod()}doughnutChartMethod(){null!=this.doughnutChart&&this.doughnutChart.destroy(),this.doughnutChart=new f.ZP(this.myChart.nativeElement,{type:"doughnut",data:{labels:this.label,datasets:[{label:"# of Vendor",data:this.data,backgroundColor:["rgba(255, 159, 64, 0.2)","rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)"],hoverBackgroundColor:["#FFCE56","#FF6384","#36A2EB","#FFCE56","#FF6384","rgba(153, 102, 255, 0.2)"]}]}})}cancel(){return this.modalCtrl.dismiss(null,"cancel")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(o.SH),t.Y36(m.D),t.Y36(c.gz),t.Y36(o.IN),t.Y36(A.e))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-chart-report"]],viewQuery:function(e,a){if(1&e&&t.Gf(T,5),2&e){let i;t.iGM(i=t.CRH())&&(a.myChart=i.first)}},decls:26,vars:8,consts:[[3,"fullscreen"],["slot","start"],["defaultHref","",3,"click"],[1,"ion-padding"],["id","container"],["appearance","fill","id","vendor-option",1,"sal_x1"],["interface","popover",3,"value","ionChange"],["months",""],["style","color:black",3,"value",4,"ngFor","ngForOf"],[2,"width","10px"],[3,"value","ionChange"],["years",""],[3,"value",4,"ngFor","ngForOf"],["id","bar-chart-container"],[2,"position","relative","height","20vh","width","40vw"],["myChart",""],[2,"color","black",3,"value"],[3,"value"]],template:function(e,a){if(1&e){const i=t.EpF();t.TgZ(0,"ion-content",0)(1,"ion-header")(2,"ion-toolbar")(3,"ion-buttons",1)(4,"ion-back-button",2),t.NdJ("click",function(){return a.cancel()}),t.qZA()(),t.TgZ(5,"ion-title"),t._uU(6,"B\xe1o c\xe1o TOP doanh thu"),t.qZA()()(),t.TgZ(7,"ion-content",0)(8,"div",3)(9,"div",4)(10,"ion-item",5)(11,"ion-label"),t._uU(12),t.qZA(),t.TgZ(13,"ion-select",6,7),t.NdJ("ionChange",function(){t.CHM(i);const h=t.MAs(14),g=t.MAs(21);return t.KtG(a.loaddataChangeSelectOption(h.value,g.value))}),t.YNc(15,E,2,2,"ion-select-option",8),t.qZA()(),t._UZ(16,"div",9),t.TgZ(17,"ion-item",5)(18,"ion-label"),t._uU(19),t.qZA(),t.TgZ(20,"ion-select",10,11),t.NdJ("ionChange",function(){t.CHM(i);const h=t.MAs(14),g=t.MAs(21);return t.KtG(a.loaddataChangeSelectOption(h.value,g.value))}),t.YNc(22,Z,2,3,"ion-select-option",12),t.qZA()()(),t.TgZ(23,"div",13),t._UZ(24,"canvas",14,15),t.qZA()()()()}2&e&&(t.Q6J("fullscreen",!0),t.xp6(7),t.Q6J("fullscreen",!0),t.xp6(5),t.Oqu("Th\xe1ng"),t.xp6(1),t.Q6J("value",a.defaultValueMonth),t.xp6(2),t.Q6J("ngForOf",a.month),t.xp6(4),t.Oqu("Name"),t.xp6(1),t.Q6J("value",a.defaultValueYear),t.xp6(2),t.Q6J("ngForOf",null==a.year?null:a.year.data))},dependencies:[v.sg,o.oU,o.Sm,o.W2,o.Gu,o.Ie,o.Q$,o.t9,o.n0,o.wd,o.sr,o.QI,o.cs]}),n})();var l=s(3329);const U=["myChart"],P=[{path:"",component:(()=>{class n{constructor(e,a,i,u){this.navCtrl=e,this._data=a,this.activatedRoute=i,this.modalCtrl=u,this.headerMenu="",this.API="/reports/itemcode",this.API_YEAR="/reports/years",this.defaultValueYear=(new Date).getFullYear()}ngOnInit(){}openReport(){return(0,C.mG)(this,void 0,void 0,function*(){const e=yield this.modalCtrl.create({component:y,componentProps:{}});e.present(),yield e.onWillDismiss()})}openItem(e){1==e&&this.navCtrl.navigateForward([l.uy.baocaodoanhthutheongay,e]),2==e&&this.navCtrl.navigateForward([l.uy.baocaodoanhthutheothang,e]),3==e&&this.navCtrl.navigateForward([l.uy.baocaodoanhthutheonam,e]),4==e&&this.navCtrl.navigateForward([l.uy.baocaonxt,e]),5==e&&this.navCtrl.navigateForward([l.uy.baocaotonghopnhapkho,e]),6==e&&this.navCtrl.navigateForward([l.uy.baocaotonghopxuatkho,e]),7==e&&this.navCtrl.navigateForward([l.uy.baocaodoanhthunhanvien,e])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(o.SH),t.Y36(m.D),t.Y36(c.gz),t.Y36(o.IN))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-charts"]],viewQuery:function(e,a){if(1&e&&t.Gf(U,5),2&e){let i;t.iGM(i=t.CRH())&&(a.myChart=i.first)}},decls:43,vars:0,consts:[["slot","start"],["id","line-charts",3,"click"],["name","document-text",2,"color","orange"],[2,"color","cornflowerblue"]],template:function(e,a){1&e&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),t._UZ(3,"ion-back-button"),t.qZA(),t.TgZ(4,"ion-title"),t._uU(5,"B\xe1o c\xe1o"),t.qZA()()(),t.TgZ(6,"ion-content")(7,"ion-list")(8,"ion-item",1),t.NdJ("click",function(){return a.openItem(1)}),t._UZ(9,"ion-icon",2),t._uU(10,"\xa0 "),t.TgZ(11,"span",3),t._uU(12,"B\xe1o c\xe1o doanh thu theo ng\xe0y"),t.qZA()(),t.TgZ(13,"ion-item",1),t.NdJ("click",function(){return a.openItem(2)}),t._UZ(14,"ion-icon",2),t._uU(15,"\xa0 "),t.TgZ(16,"span",3),t._uU(17,"B\xe1o c\xe1o doanh thu theo th\xe1ng"),t.qZA()(),t.TgZ(18,"ion-item",1),t.NdJ("click",function(){return a.openItem(3)}),t._UZ(19,"ion-icon",2),t._uU(20,"\xa0 "),t.TgZ(21,"span",3),t._uU(22,"B\xe1o c\xe1o doanh thu theo n\u0103m"),t.qZA()(),t.TgZ(23,"ion-item",1),t.NdJ("click",function(){return a.openItem(4)}),t._UZ(24,"ion-icon",2),t._uU(25,"\xa0 "),t.TgZ(26,"span",3),t._uU(27,"B\xe1o c\xe1o nh\u1eadp xu\u1ea5t t\u1ed3n"),t.qZA()(),t.TgZ(28,"ion-item",1),t.NdJ("click",function(){return a.openItem(5)}),t._UZ(29,"ion-icon",2),t._uU(30,"\xa0 "),t.TgZ(31,"span",3),t._uU(32,"B\xe1o c\xe1o t\u1ed5ng h\u1ee3p nh\u1eadp kho"),t.qZA()(),t.TgZ(33,"ion-item",1),t.NdJ("click",function(){return a.openItem(6)}),t._UZ(34,"ion-icon",2),t._uU(35,"\xa0 "),t.TgZ(36,"span",3),t._uU(37,"B\xe1o c\xe1o t\u1ed5ng h\u1ee3p xu\u1ea5t kho"),t.qZA()(),t.TgZ(38,"ion-item",1),t.NdJ("click",function(){return a.openItem(7)}),t._UZ(39,"ion-icon",2),t._uU(40,"\xa0 "),t.TgZ(41,"span",3),t._uU(42,"B\xe1o c\xe1o doanh thu nh\xe2n vi\xean"),t.qZA()()()())},dependencies:[o.oU,o.Sm,o.W2,o.Gu,o.gu,o.Ie,o.q_,o.wd,o.sr,o.cs],styles:["#line-charts .item-native{height:80px!important}#line-charts[_ngcontent-%COMP%]{--height: 80px !important;margin-left:20px}ion-item[_ngcontent-%COMP%]::part(native){padding-left:unset;--height: 65px !important;height:65px!important}"]}),n})()}];let b=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[c.Bz.forChild(P),c.Bz]}),n})();var S=s(5064);let F=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[S.q,v.ez,_.u5,o.Pc,b]}),n})()}}]);